function a(e){return(e??"").toLowerCase().includes("json")}async function r(e){const t=e.headers.get("content-type");return a(t)?await e.json():await e.text()}async function c(e,t={}){const s=await fetch(e,{headers:{"Content-Type":"application/json",...t.headers??{}},...t}),i=await r(s);if(!s.ok){const n=typeof i=="string"?i:typeof i?.message=="string"?i.message:typeof i?.error=="string"?i.error:`HTTP ${s.status}`;throw new Error(n)}return i}async function o(e,t){return await c(e,t)}const p={getHealth:()=>o("/api/health"),getIndustries:()=>o("/api/industries"),getSensors:()=>o("/api/sensors"),loadZeroBusConfig:e=>o("/api/zerobus/config/load",{method:"POST",body:JSON.stringify({protocol:e})}),saveZeroBusConfig:(e,t)=>o("/api/zerobus/config",{method:"POST",body:JSON.stringify({protocol:e,config:t})}),testZeroBus:(e,t)=>o("/api/zerobus/test",{method:"POST",body:JSON.stringify({protocol:e,config:t})}),startZeroBus:e=>o("/api/zerobus/start",{method:"POST",body:JSON.stringify({protocol:e})}),stopZeroBus:e=>o("/api/zerobus/stop",{method:"POST",body:JSON.stringify({protocol:e})}),zeroBusStatus:()=>o("/api/zerobus/status"),getOpcuaClients:()=>o("/api/protocols/opcua/clients"),getMqttSubscribers:()=>o("/api/protocols/mqtt/subscribers"),getConnectionEndpoints:()=>o("/api/connection/endpoints"),getModes:()=>o("/api/modes"),getMode:e=>o(`/api/modes/${encodeURIComponent(e)}`),toggleMode:e=>o(`/api/modes/${encodeURIComponent(e)}/toggle`,{method:"POST",body:"{}"}),toggleModeProtocol:(e,t)=>o(`/api/modes/${encodeURIComponent(e)}/protocol/toggle`,{method:"POST",body:JSON.stringify({protocol:t})}),modeDiagnostics:e=>o(`/api/modes/${encodeURIComponent(e)}/diagnostics`),recentMessages:()=>o("/api/modes/messages/recent"),activeTopics:()=>o("/api/modes/topics/active"),comprehensiveMetrics:()=>o("/api/modes/metrics/comprehensive"),getOpcuaHierarchy:()=>o("/api/opcua/hierarchy"),getThingDescription:()=>o("/api/opcua/thing-description"),injectData:(e,t,s)=>o("/api/training/inject_data",{method:"POST",body:JSON.stringify({sensor_path:e,value:t,duration_seconds:s})}),listScenarios:()=>o("/api/training/scenarios"),runScenario:(e,t)=>o("/api/training/run_scenario",{method:"POST",body:JSON.stringify({scenario_id:e,trainee_id:t})}),leaderboard:()=>o("/api/training/leaderboard")};export{p as s};
