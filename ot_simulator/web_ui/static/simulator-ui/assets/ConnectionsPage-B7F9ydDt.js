import{u as j,r as e,j as s,P as n,B as y}from"./index-BaPJlJ0v.js";import{s as l}from"./simApi-GdAodEFA.js";function S(){const r=j(),[a,d]=e.useState(null),[u,p]=e.useState(null),[x,h]=e.useState(null),[c,o]=e.useState(!1),i=e.useCallback(async()=>{o(!0);try{const[t,m,b]=await Promise.all([l.getConnectionEndpoints(),l.getOpcuaClients(),l.getMqttSubscribers()]);d(t),p(m),h(b)}catch(t){r.show(t instanceof Error?t.message:"Failed to load connections","bad")}finally{o(!1)}},[r]);return e.useEffect(()=>{i().catch(()=>{})},[i]),s.jsxs("div",{style:{display:"grid",gap:16},children:[s.jsx(n,{title:"Connections",subtitle:"Clients, subscribers, and endpoints",actions:s.jsx(y,{type:"button",onClick:()=>i(),disabled:c,children:c?"Refreshing...":"Refresh"}),children:s.jsxs("div",{className:"muted",children:["Uses ",s.jsx("code",{children:"/api/connection/endpoints"}),", ",s.jsx("code",{children:"/api/protocols/opcua/clients"}),", and"," ",s.jsx("code",{children:"/api/protocols/mqtt/subscribers"}),"."]})}),s.jsx(n,{title:"Connection endpoints",subtitle:"Raw JSON",children:s.jsx("pre",{className:"kvs",style:{margin:0},children:s.jsx("code",{style:{color:"var(--text-primary)"},children:JSON.stringify(a,null,2)})})}),s.jsx(n,{title:"OPC-UA clients",subtitle:"Raw JSON",children:s.jsx("pre",{className:"kvs",style:{margin:0},children:s.jsx("code",{style:{color:"var(--text-primary)"},children:JSON.stringify(u,null,2)})})}),s.jsx(n,{title:"MQTT subscribers",subtitle:"Raw JSON",children:s.jsx("pre",{className:"kvs",style:{margin:0},children:s.jsx("code",{style:{color:"var(--text-primary)"},children:JSON.stringify(x,null,2)})})})]})}export{S as ConnectionsPage};
